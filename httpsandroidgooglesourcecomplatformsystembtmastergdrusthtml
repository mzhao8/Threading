<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>gd/rust - platform/system/bt - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.mkGYfyMw1ltYdSUJFnTfAQ.cache.css"><link rel="stylesheet" type="text/css" href="/+static/doc.SwFWSqyOBtHwse7AqrZZeg.cache.css"><link rel="stylesheet" type="text/css" href="/+static/prettify/prettify.AOMOBqJIPcDq491E2ExAAw.cache.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://android.googlesource.com/login/platform/system/bt/%2B/master/gd/rust">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">android</a> / <a class="Breadcrumbs-crumb" href="/platform/">platform</a> / <a class="Breadcrumbs-crumb" href="/platform/system/">system</a> / <a class="Breadcrumbs-crumb" href="/platform/system/bt/">bt</a> / <a class="Breadcrumbs-crumb" href="/platform/system/bt/+/master">master</a> / <a class="Breadcrumbs-crumb" href="/platform/system/bt/+/master/">.</a> / <a class="Breadcrumbs-crumb" href="/platform/system/bt/+/master/gd">gd</a> / <span class="Breadcrumbs-crumb">rust</span></div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: c999261402ec546422f438a68823fce0ac79a9fb [<a href="/platform/system/bt/+log/master/gd/rust">path history</a>] <span>[<a href="/platform/system/bt/+archive/master/gd/rust.tar.gz">tgz</a>]</span></div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - README.md"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/README.md">README.md</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - common/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/common/">common/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - facade/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/facade/">facade/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - facade_proto/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/facade_proto/">facade_proto/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - gddi/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/gddi/">gddi/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - hal/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/hal/">hal/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - hci/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/hci/">hci/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - link/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/link/">link/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - main/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/main/">main/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - packets/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/packets/">packets/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - shim/"><a class="FileList-itemLink" href="/platform/system/bt/+/master/gd/rust/shim/">shim/</a></li></ol><div class="InlineReadme"><div class="InlineReadme-path">gd/rust/README.md</div><div class="doc"><h1><a class="h" name="Rust-build" href="#Rust-build"><span></span></a><a class="h" name="rust-build" href="#rust-build"><span></span></a>Rust build</h1><p>Currently, the Rust components are built differently on Android vs Linux. We are missing Rust support in our GN toolchain so we currently build the Rust libraries as a staticlib and link in C++. This may change in the future once we have better support.</p><p>For now, you can build all of the Rust code using Cargo.</p><p>There are some dependencies:</p><ul><li>You must have the protobuf-compiler package installed</li><li>You must have a recent version of Cargo + Rust</li></ul><p>You should use <code class="code">build.py</code> at the root to do your Rust builds so that it correctly points your dependencies towards the vendored crates and sets your $CARGO_HOME to the correct location.</p></div></div></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>